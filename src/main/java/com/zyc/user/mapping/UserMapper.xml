<?xml version="1.0" encoding="UTF-8"?>  
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"   
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">  
<!--   
    namespace：必须与对应的接口全类名一致  
    id:必须与对应接口的某个对应的方法名一致  
      
 -->  
<mapper namespace="com.zyc.shoping.user.dao.IUserDao">  
      
    <!-- 保存用户信息 -->
    <insert id="save" parameterType="com.zyc.shoping.user.model.User">  
        insert into t_user(user_name,user_age) values(#{userName},#{age})  
    </insert>  
      
    <!-- 更新用户信息 -->
    <update id="update" parameterType="com.zyc.shoping.user.model.User">  
        update t_user set 
        <if test="userName !=null and userName !='' ">
        	user_name=#{userName},
        </if>
        <if test="resetPassword !=null and resetPassword !='' ">
        	password=#{password},
        </if>
        <if test="age !=null and age !='' ">
        	user_age=#{age} 
        </if>
        
        where user_id=#{id}  
    </update>  
      
    <!-- 删除用户信息 -->
    <delete id="delete" parameterType="int">  
        delete from t_user where user_id=#{id}  
    </delete>  
      
     <!-- 根据登录账号查询用户信息 -->   
    <select id="selectById" parameterType="int" resultType="com.zyc.shoping.user.model.User">  
        select user_id id,user_name userName,user_age age from t_user where user_id=#{id}  
    </select>  
      
    <!-- 分页查询所有用户信息 -->
    <select id="selectByPage" parameterType="java.util.Map" resultType="com.zyc.shoping.user.model.User">  
        select user_id id,user_name userName,user_age age from t_user  
    </select>  
      
</mapper>  